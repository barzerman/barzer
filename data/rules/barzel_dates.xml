<?xml version="1.0" encoding="UTF-8"?>
<stmset xmlns:xsi="http://www.w3.org/2000/10/XMLSchema-instance"
    xmlns="http://www.barzer.net/barzel/0.1">
    <stmt>
        <pat>
            <any v="day"><t>today</t><t>yesterday</t><t>tomorrow</t></any>
        </pat>
        <tran>
            <func name="mkDay">
                <func name="opSelect">
                    <var name="day" />
                    <ltrl>today</ltrl><rn v="0" />
                    <ltrl>yesterday</ltrl><rn v="-1" />
                    <ltrl>tomorrow</ltrl><rn v="1" />
                </func>
            </func>
        </tran>
    </stmt>
    <stmt>
        <pat>
            <n l="1900" h="2100"/><p>/</p><n l="1" h="12"/><p>/</p><n l="1" h="31"/>
        </pat>
        <tran><func name="mkDate"><var pn="5" /><var pn="3" /><var pn="1" /></func></tran>
    </stmt>
    <stmt>
        <pat>
            <n l="1" h="12"/><p>/</p><n l="1" h="31"/><p>/</p><n l="1900" h="2100"/>
        </pat>
        <tran><func name="mkDate"><var pn="1" /><var pn="3" /><var pn="5" /></func></tran>
    </stmt>
    
    <stmt>
        <pat>
            <any v="mon">
            <t>january</t><t>jan</t>
            <t>february</t><t>feb</t>
            <t>march</t><t>mar</t>
            <t>april</t><t>apr</t>
            <t>may</t>
            <t>june</t><t>jun</t>
            <t>july</t><t>jul</t>
            <t>august</t><t>aug</t>
            <t>september</t><t>sep</t>
            <t>october</t><t>oct</t>
            <t>november</t><t>nov</t>
            <t>december</t><t>dec</t>
            </any>
            <list v="day"><n l="1" h="31" /></list>
            <opt><p>,</p></opt>
            <list v="year"><n l="1900" h="2100" /></list>
        </pat>
        <tran>
            <func name="mkDate">
                <var name="day" />
                <func name="lookupMonth"><var name="mon" /></func>
                <var name="year" />
            </func>
        </tran>
    </stmt>
    <stmt>
        <pat>
            <any v="mon">
            <t>january</t><t>jan</t>
            <t>february</t><t>feb</t>
            <t>march</t><t>mar</t>
            <t>april</t><t>apr</t>
            <t>may</t>
            <t>june</t><t>jun</t>
            <t>july</t><t>jul</t>
            <t>august</t><t>aug</t>
            <t>september</t><t>sep</t>
            <t>october</t><t>oct</t>
            <t>november</t><t>nov</t>
            <t>december</t><t>dec</t>
            </any>
            <list v="day"><n l="1" h="31" /></list>
        </pat>
        <tran>
            <func name="mkDate">
                <var name="day" />
                <func name="lookupMonth"><var name="mon" /></func>
            </func>
        </tran>
    </stmt>    
    <stmt>
        <pat>
            <list v="hh"><n l="1" h="12" /></list>
            <p>:</p>
            <list v="mm"><n l="0" h="59" /></list>
            <opt>
                <list>
                    <p>:</p>
                 <list v="ss"><n l="0" h="59" /></list>
                </list>
            </opt>
            <any>
                <t>pm</t>
                <list><t>p</t><p>.</p><t>m</t><opt><p>.</p></opt></list>
            </any>
        </pat>
        <tran>
            <func name="mkTime">
                <func name="opPlus"><var name="hh" /><rn v="12" /></func>
                <var name="mm" />
                <var name="ss" />
            </func>
        </tran>
    </stmt>
    
    <stmt>
        <pat>
            <list v="hh"><n l="0" h="23" /></list>
            <p>:</p>
            <list v="mm"><n l="0" h="59" /></list>
            <opt>
                <list>
                    <p>:</p>
                    <list v="ss"><n l="0" h="59" /></list>
                </list>
            </opt>
            <opt>
                <any>
                <t>am</t>
                <list><t>a</t><p>.</p><t>m</t><opt><p>.</p></opt></list>
                </any>
            </opt>
        </pat>    
        <tran>
            <func name="mkTime">
                <var name="hh" />
                <var name="mm" />
                <var name="ss" />
            </func>
        </tran>
    </stmt>
    <stmt>
        <pat>
            <list v="hh"><n l="1" h="12" /></list>
            <any>
                <t>am</t>
                <list><t>a</t><p>.</p><t>m</t><opt><p>.</p></opt></list>
            </any>
        </pat>
        <tran>
            <func name="mkTime"><var name="hh" /></func>
        </tran>    
    </stmt>
    <stmt>
        <pat>
            <list v="hh"><n l="1" h="12" /></list>
            <any>
                <t>pm</t>
                <list><t>p</t><p>.</p><t>m</t><opt><p>.</p></opt></list>
            </any>
        </pat>
        <tran>
            <func name="mkTime">
                <func name="opPlus"><var name="hh" /><rn v="12" /></func>
            </func>
        </tran>
    </stmt>
    
    <stmt>
        <pat>
            <any>
                <list>
                    <list v="date"><date /></list>
                    <opt><t>at</t></opt>
                    <list v="hh"><n l="1" h="12" /> </list>
                </list>
            </any>
        </pat>
    <tran>
        <func name="mkDateTime"><var name="date" />
            <func name="mkTime"><var name="hh" /></func>
        </func>
    </tran>
    </stmt>    
    
    <stmt>
        <pat>
            <any>
                <list>
                    <list v="date"><date /></list>
                    <opt><t>at</t></opt>
                    <list v="time"><time /></list>
                </list>
                <list>
                    <list v="time"><time /></list>
                    <opt><t>on</t></opt>
                    <list v="date"><date /></list>
                </list>
            </any>
        </pat>
    <tran>
        <func name="mkDateTime"><var name="date" /><var name="time" /></func>
    </tran>
    </stmt>
    <stmt>
        <pat>
        <t>between</t>
        <list v="low"><date /></list>
        <t>and</t>
        <list v="high"><date /></list>
        </pat>
        <tran>
            <func name="mkRange"><ltrl>ASC</ltrl><var name="low" /><var name="high" /></func>
        </tran>
    </stmt>
    
    
    <stmt>
        <pat>
            <t>next</t>
            <any v="wday">
                <t>monday</t>
                <t>tuesday</t>
                <t>wednesday</t>
                <t>thursday</t>
                <t>friday</t>
                <t>saturday</t>
                <t>sunday</t>
                <t>mon</t><t>tue</t><t>wed</t><t>thu</t><t>fri</t><t>sat</t><t>sun</t>
            </any>
        </pat>
        <tran>
            <func name="mkWday">
                <rn v="1" />
                <func name="lookupWday"><var name="wday" /></func>
            </func>
        </tran>
    </stmt>

    <stmt>
        <pat>
            <any v="time"><t>on</t><t>last</t><t>this</t><t>next</t></any>
            <any v="wday">
                <t>monday</t>
                <t>tuesday</t>
                <t>wednesday</t>
                <t>thursday</t>
                <t>friday</t>
                <t>saturday</t>
                <t>sunday</t>
                <t>mon</t><t>tue</t><t>wed</t><t>thu</t><t>fri</t><t>sat</t><t>sun</t>
            </any>
        </pat>
        <tran>
            <func name="mkWday">
                <func name="opSelect"><var name="time" />
                <ltrl>last</ltrl><rn v="-1" />
                <ltrl>this</ltrl><rn v="0" />
                <ltrl>next</ltrl><rn v="1" />
                <ltrl>on</ltrl><rn v="1" />
                </func>
                <func name="lookupWday"><var name="wday" /></func>
            </func>
        </tran>
    </stmt>
       <stmt>
  <pat><t>evening</t></pat>
  <tran>
    <func name="mkRange">
        <func name="mkTime"><rn v="16" /></func>
        <func name="mkTime"><rn v="23" /><rn v="59" /></func>
    </func>
  </tran>
  </stmt>
  <stmt>
  <pat><t>morning</t></pat>
  <tran>
    <func name="mkRange">
        <func name="mkTime"><rn v="4" /></func>
        <func name="mkTime"><rn v="12" /></func>
    </func>
  </tran>
  </stmt>
  
  <stmt>
  <pat><t>afternoon</t></pat>
  <tran>
    <func name="mkRange">
        <func name="mkTime"><rn v="12" /></func>
        <func name="mkTime"><rn v="17" /></func>
    </func>
  </tran>
  </stmt>
  
  <stmt>
  <pat><t>night</t></pat>
  <tran>
    <func name="mkErc">
        <func name="mkEnt"><rn v="1" /><rn v="8"/></func>
        <func name="mkRange">
            <func name="mkTime"><rn v="23" /></func>
            <func name="mkTime"><rn v="5" /></func>
        </func>
    </func>
  </tran>
  </stmt>

  <stmt>
    <pat><t>next</t><t>week</t></pat>
    <tran>
        <func name="mkDateRange">
            <func name="opDateCalc">
                <func name="mkDate" />
                <func name="opMinus">
                    <rn v="7" />
                    <func name="getWeekday"><func name="mkDate" /></func>
                </func>
            </func>
            <rn v="7" /><rn v="0" /><rn v="0" />
        </func>
  </tran>
  </stmt>
  
  <stmt>
    <pat><t>next</t><t>month</t></pat>
    <tran>
        <func name="mkDateRange">
            <func name="opDateCalc"><!-- adding 1 month to 1th this month -->
                <func name="mkDate"><rn v="1" /></func>
                <rn v="0"/>
                <rn v="1"/>
            </func>
            <!-- and making a range month long -->
            <rn v="0" /><rn v="1" /><rn v="0" />
        </func>
  </tran>
  </stmt>
  <stmt>
    <pat><t>next</t><t>year</t></pat>
    <tran>
        <func name="mkDateRange">
            <func name="opDateCalc"><!-- adding 1 year to 1/1/thisYear -->
                <func name="mkDate"><rn v="1" /><rn v="1" /></func>
                <rn v="0"/>
                <rn v="0"/>
                <rn v="1"/>
            </func>
            <!-- and making a range a year long -->
            <rn v="0" />
            <rn v="0" />
            <rn v="1" />
        </func>
  </tran>
  </stmt>  
</stmset>
